<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mini Social Network | CodeAlpha</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f8; margin:0; padding:0; }
    header { background:#1877f2; color:white; padding:15px; text-align:center; }
    .container { width:90%; max-width:800px; margin:20px auto; }
    .card { background:white; padding:15px; margin-bottom:15px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    input, textarea { width:100%; padding:8px; margin:5px 0; }
    button { padding:8px 15px; background:#1877f2; color:white; border:none; border-radius:5px; cursor:pointer; }
    button:hover { background:#0f5fd4; }
    .post { margin-top:10px; }
    .like { color:red; cursor:pointer; margin-right:10px; }
    .comment { margin-left:15px; font-size:14px; }
  </style>
</head>
<body>

<header>
  <h1>Mini Social Network</h1>
  <p>CodeAlpha Web Development Task 2</p>
</header>

<div class="container">

  <div class="card">
    <h3>Create Post</h3>
    <textarea id="postText" placeholder="What's on your mind?"></textarea>
    <button onclick="addPost()">Post</button>
  </div>

  <div id="posts"></div>

</div>

<script>
  let posts = JSON.parse(localStorage.getItem("posts")) || [];

  function addPost() {
    const text = document.getElementById("postText").value;
    if (text === "") return alert("Post cannot be empty");
    posts.unshift({ text, likes: 0, comments: [] });
    localStorage.setItem("posts", JSON.stringify(posts));
    document.getElementById("postText").value = "";
    renderPosts();
  }

  function likePost(index) {
    posts[index].likes++;
    localStorage.setItem("posts", JSON.stringify(posts));
    renderPosts();
  }

  function addComment(index, inputId) {
    const commentText = document.getElementById(inputId).value;
    if (commentText === "") return;
    posts[index].comments.push(commentText);
    localStorage.setItem("posts", JSON.stringify(posts));
    renderPosts();
  }

  function renderPosts() {
    const postsDiv = document.getElementById("posts");
    postsDiv.innerHTML = "";
    posts.forEach((post, index) => {
      let html = `<div class="card post">
        <p>${post.text}</p>
        <span class="like" onclick="likePost(${index})">❤ ${post.likes}</span>
        <div>
          <input id="comment${index}" placeholder="Write a comment" />
          <button onclick="addComment(${index}, 'comment${index}')">Comment</button>
        </div>`;
      post.comments.forEach(c => {
        html += `<div class="comment">• ${c}</div>`;
      });
      html += `</div>`;
      postsDiv.innerHTML += html;
    });
  }

  renderPosts();
</script>

</body>
</html>
